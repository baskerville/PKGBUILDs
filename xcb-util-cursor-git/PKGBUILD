# Maintainer: Bastien Dejean <baskerville@lavabit.com>

pkgname=xcb-util-cursor-git
pkgver=20130107
pkgrel=1
pkgdesc='XCB cursor management library'
arch=('i686' 'x86_64')
url='http://code.stapelberg.de/git/util-cursor'
license=('custom:MIT')
depends=('libxcb')
makedepends=('git')
provides=('xcb-util-cursor')
conflicts=('xcb-util-cursor')
_gitroot='git://code.stapelberg.de/util-cursor'
_gitname='xcb-util-cursor'

build() {
    cd "$srcdir"
    if [ -d "$_gitname" ] ; then
        cd "$_gitname" && git pull
    else
        git clone "$_gitroot" "$_gitname"
        cd "$_gitname" && git submodule update --init
    fi

    cd "$srcdir/$_gitname"
    ./autogen.sh --prefix=/usr
    make
}

package() {
    cd "$srcdir/$_gitname"
    make DESTDIR="$pkgdir" install
}
